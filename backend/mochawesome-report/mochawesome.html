<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets/app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:9,&quot;tests&quot;:41,&quot;passes&quot;:41,&quot;pending&quot;:0,&quot;failures&quot;:0,&quot;start&quot;:&quot;2025-06-17T15:47:05.192Z&quot;,&quot;end&quot;:&quot;2025-06-17T15:47:05.874Z&quot;,&quot;duration&quot;:682,&quot;testsRegistered&quot;:41,&quot;passPercent&quot;:100,&quot;pendingPercent&quot;:0,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false},&quot;results&quot;:[{&quot;uuid&quot;:&quot;d4f56405-3ca1-46d3-9f9c-12657ddad6c2&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;{root}\&quot;&quot;,&quot;fullTitle&quot;:&quot;\&quot;before all\&quot; hook in \&quot;{root}\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:73,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await createTestDB(config.db.database, config.db.user);\nawait createTables(config.db.user, config.db.database);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6a84d765-21e2-4b11-9567-3bf1e74a8180&quot;,&quot;parentUUID&quot;:&quot;d4f56405-3ca1-46d3-9f9c-12657ddad6c2&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;714e97bd-c1cf-4ed1-bf5c-e372d2a6e066&quot;,&quot;title&quot;:&quot;Tests de base de données&quot;,&quot;fullFile&quot;:&quot;/home/johan/Repository/ikanban/backend/test/1-database.test.ts&quot;,&quot;file&quot;:&quot;/test/1-database.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;doit insérer un utilisateur&quot;,&quot;fullTitle&quot;:&quot;Tests de base de données doit insérer un utilisateur&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const result = await pool.query(&#x27;INSERT INTO users (id, name, email, password_hash) VALUES ($1, $2, $3, $4) RETURNING *&#x27;, [\n    &#x27;75a745c9-975f-4826-a263-13d1dbb2eec5&#x27;,\n    &#x27;tester1&#x27;,\n    &#x27;tester1@example.com&#x27;,\n    &#x27;hashed_password&#x27;,\n]);\nassert.equal(result.rows[0].name, &#x27;tester1&#x27;);\nassert.equal(result.rows[0].email, &#x27;tester1@example.com&#x27;);\nassert.equal(result.rows[0].password_hash, &#x27;hashed_password&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ba4dea07-829c-4235-98ae-fe4a45cc9ec9&quot;,&quot;parentUUID&quot;:&quot;714e97bd-c1cf-4ed1-bf5c-e372d2a6e066&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;doit insérer un second utilisateur&quot;,&quot;fullTitle&quot;:&quot;Tests de base de données doit insérer un second utilisateur&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const result = await pool.query(&#x27;INSERT INTO users (id, name, email, password_hash) VALUES ($1, $2, $3, $4) RETURNING *&#x27;, [\n    &#x27;2691cd19-1633-46cc-a7b6-15f98e457e71&#x27;,\n    &#x27;tester2&#x27;,\n    &#x27;tester2@example.com&#x27;,\n    &#x27;hashed_password&#x27;,\n]);\nassert.equal(result.rows[0].name, &#x27;tester2&#x27;);\nassert.equal(result.rows[0].email, &#x27;tester2@example.com&#x27;);\nassert.equal(result.rows[0].password_hash, &#x27;hashed_password&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;80530f5e-be5a-405d-8ac3-767ed2408fae&quot;,&quot;parentUUID&quot;:&quot;714e97bd-c1cf-4ed1-bf5c-e372d2a6e066&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;ne doit pas insérer un utilisateur avec le même mail&quot;,&quot;fullTitle&quot;:&quot;Tests de base de données ne doit pas insérer un utilisateur avec le même mail&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;try {\n    await pool.query(&#x27;INSERT INTO users (id, name, email, password_hash) VALUES ($1, $2, $3, $4) RETURNING *&#x27;, [\n        &#x27;780afe11-6d37-4cd3-9d96-b444af4ff06e&#x27;,\n        &#x27;tester3&#x27;,\n        &#x27;tester1@example.com&#x27;,\n        &#x27;hashed_password&#x27;,\n    ]);\n    // Si aucune erreur n&#x27;est levée, on échoue explicitement le test\n    // L&#x27;unicité du champ mail n&#x27;est pas respecté\n    assert.fail(\&quot;L&#x27;erreur attendue n&#x27;a pas été détectée\&quot;);\n}\ncatch (error) {\n    if (error instanceof Error) {\n        // Passe le test si le message d&#x27;erreur de violation d&#x27;unicité retourné par PostgreSQL\n        // correspond exactement à ce que l&#x27;on attend dans ce cas\n        assert.ok(error.message.includes(\&quot;la valeur d&#x27;une clé dupliquée rompt la contrainte unique\&quot;), `Erreur inattendue : ${error.message}`);\n    }\n    else {\n        // Force le test à échouer dans ce cas, peu de chance...\n        assert.fail(\&quot;Erreur inattendue, l&#x27;objet n&#x27;est pas de type Error.\&quot;);\n    }\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3a1460c0-5911-4407-8bb8-6fb38dd40605&quot;,&quot;parentUUID&quot;:&quot;714e97bd-c1cf-4ed1-bf5c-e372d2a6e066&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;doit trouver un utilisateur par email&quot;,&quot;fullTitle&quot;:&quot;Tests de base de données doit trouver un utilisateur par email&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const result = await pool.query(&#x27;SELECT * FROM users WHERE email = $1&#x27;, [&#x27;tester1@example.com&#x27;]);\nassert.equal(result.rowCount, 1);\nassert.equal(result.rows[0].name, &#x27;tester1&#x27;);\nassert.equal(result.rows[0].email, &#x27;tester1@example.com&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4b2f1e69-9ce3-4c2c-ad46-1ce23c99296f&quot;,&quot;parentUUID&quot;:&quot;714e97bd-c1cf-4ed1-bf5c-e372d2a6e066&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;ne doit pas trouver un utilisateur par email inexistant&quot;,&quot;fullTitle&quot;:&quot;Tests de base de données ne doit pas trouver un utilisateur par email inexistant&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const result = await pool.query(&#x27;SELECT * FROM users WHERE email = $1&#x27;, [&#x27;inexistant@example.com&#x27;]);\nassert.equal(result.rowCount, 0);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b1ef3c1b-4052-4156-8ae4-3b0b9155738b&quot;,&quot;parentUUID&quot;:&quot;714e97bd-c1cf-4ed1-bf5c-e372d2a6e066&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;doit mettre à jour le mail d&#x27;un utilisateur existant&quot;,&quot;fullTitle&quot;:&quot;Tests de base de données doit mettre à jour le mail d&#x27;un utilisateur existant&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const result = await pool.query(&#x27;UPDATE users SET email = $1 WHERE name = $2 RETURNING *&#x27;, [&#x27;updated-email@example.com&#x27;, &#x27;tester1&#x27;]);\nassert.equal(result.rowCount, 1);\nassert.equal(result.rows[0].email, &#x27;updated-email@example.com&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;772b6b60-a7ca-4aa7-b7a9-88e014a4c835&quot;,&quot;parentUUID&quot;:&quot;714e97bd-c1cf-4ed1-bf5c-e372d2a6e066&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;ne doit pas mettre à jour l&#x27;email avec un email déjà enregistré pour un autre utilisateur.&quot;,&quot;fullTitle&quot;:&quot;Tests de base de données ne doit pas mettre à jour l&#x27;email avec un email déjà enregistré pour un autre utilisateur.&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;try {\n    await pool.query(&#x27;UPDATE users SET email = $1 WHERE name = $2 RETURNING *&#x27;, [&#x27;updated-email@example.com&#x27;, &#x27;tester2&#x27;]);\n    assert.fail(\&quot;L&#x27;erreur attendue n&#x27;a pas été détectée\&quot;);\n}\ncatch (error) {\n    if (error instanceof Error) {\n        assert.ok(error.message.includes(\&quot;la valeur d&#x27;une clé dupliquée rompt la contrainte unique\&quot;), `Erreur inattendue : ${error.message}`);\n    }\n    else {\n        assert.fail(\&quot;Erreur inattendue, l&#x27;objet n&#x27;est pas de type Error.\&quot;);\n    }\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;481f8109-ba19-446d-8338-871f5f60d402&quot;,&quot;parentUUID&quot;:&quot;714e97bd-c1cf-4ed1-bf5c-e372d2a6e066&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;empêcher l&#x27;injection de code SQL&quot;,&quot;fullTitle&quot;:&quot;Tests de base de données empêcher l&#x27;injection de code SQL&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const maliciousEmail = \&quot;&#x27; OR 1=1 --\&quot;;\nconst result = await pool.query(&#x27;SELECT * FROM users WHERE email = $1&#x27;, [maliciousEmail]);\nassert.equal(result.rowCount, 0);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cc33f09a-2428-489a-bf41-2d08cf208857&quot;,&quot;parentUUID&quot;:&quot;714e97bd-c1cf-4ed1-bf5c-e372d2a6e066&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;ne doit pas autoriser la valeur NULL dans le champ du nom&quot;,&quot;fullTitle&quot;:&quot;Tests de base de données ne doit pas autoriser la valeur NULL dans le champ du nom&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;try {\n    await pool.query(&#x27;INSERT INTO users (name, email, password_hash) VALUES ($1, $2, $3)&#x27;, [null, &#x27;null@example.com&#x27;, &#x27;hashed_password&#x27;]);\n    assert.fail(&#x27;Expected error but got none&#x27;);\n}\ncatch (error) {\n    if (error instanceof Error) {\n        assert.ok(error.message.includes(&#x27;une valeur NULL viole la contrainte NOT NULL&#x27;), `Erreur inattendue : ${error.message}`);\n    }\n    else {\n        assert.fail(\&quot;Erreur inattendue, l&#x27;objet n&#x27;est pas de type Error.\&quot;);\n    }\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3c143ca4-2d4b-41bd-8d85-fb47182f7ed7&quot;,&quot;parentUUID&quot;:&quot;714e97bd-c1cf-4ed1-bf5c-e372d2a6e066&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;ne doit pas autoriser la valeur NULL dans le champ du mail&quot;,&quot;fullTitle&quot;:&quot;Tests de base de données ne doit pas autoriser la valeur NULL dans le champ du mail&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;try {\n    await pool.query(&#x27;INSERT INTO users (name, email, password_hash) VALUES ($1, $2, $3)&#x27;, [&#x27;null&#x27;, null, &#x27;hashed_password&#x27;]);\n    assert.fail(&#x27;Expected error but got none&#x27;);\n}\ncatch (error) {\n    if (error instanceof Error) {\n        assert.ok(error.message.includes(&#x27;une valeur NULL viole la contrainte NOT NULL&#x27;), `Erreur inattendue : ${error.message}`);\n    }\n    else {\n        assert.fail(\&quot;Erreur inattendue, l&#x27;objet n&#x27;est pas de type Error.\&quot;);\n    }\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f0d0b866-59df-421a-be60-95ae39cf97cd&quot;,&quot;parentUUID&quot;:&quot;714e97bd-c1cf-4ed1-bf5c-e372d2a6e066&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;ne doit pas autoriser la valeur NULL dans le champ du mot de passe&quot;,&quot;fullTitle&quot;:&quot;Tests de base de données ne doit pas autoriser la valeur NULL dans le champ du mot de passe&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;try {\n    await pool.query(&#x27;INSERT INTO users (name, email, password_hash) VALUES ($1, $2, $3)&#x27;, [&#x27;null&#x27;, &#x27;null@example.com&#x27;, null]);\n    assert.fail(&#x27;Expected error but got none&#x27;);\n}\ncatch (error) {\n    if (error instanceof Error) {\n        assert.ok(error.message.includes(&#x27;une valeur NULL viole la contrainte NOT NULL&#x27;), `Erreur inattendue : ${error.message}`);\n    }\n    else {\n        assert.fail(\&quot;Erreur inattendue, l&#x27;objet n&#x27;est pas de type Error.\&quot;);\n    }\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5dd5d530-4074-408a-87e1-fa9f0e73aea7&quot;,&quot;parentUUID&quot;:&quot;714e97bd-c1cf-4ed1-bf5c-e372d2a6e066&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;doit insérer un board et le récupérer par son ID&quot;,&quot;fullTitle&quot;:&quot;Tests de base de données doit insérer un board et le récupérer par son ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const user = await pool.query(&#x27;SELECT * FROM users WHERE name = $1&#x27;, [\n    &#x27;tester1&#x27;,\n]);\nconst userId = user.rows[0].id;\nconst resultInsert = await pool.query(&#x27;INSERT INTO boards (id, user_id, name) VALUES ($1, $2, $3) RETURNING *&#x27;, [&#x27;25677a65-73c9-4a6c-bc70-482f37200725&#x27;, userId, &#x27;Projet Test&#x27;]);\nconst boardId = resultInsert.rows[0].id;\nconst resultSelect = await pool.query(&#x27;SELECT * FROM boards WHERE id = $1&#x27;, [boardId]);\nassert.equal(resultSelect.rows[0].name, &#x27;Projet Test&#x27;);\nassert.equal(resultSelect.rows[0].user_id, userId);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;33c3cd33-455e-454e-8fb4-b4f6bcc1592e&quot;,&quot;parentUUID&quot;:&quot;714e97bd-c1cf-4ed1-bf5c-e372d2a6e066&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;doit mettre à jour le nom d&#x27;un board&quot;,&quot;fullTitle&quot;:&quot;Tests de base de données doit mettre à jour le nom d&#x27;un board&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const board = await pool.query(&#x27;SELECT * FROM boards WHERE name = $1&#x27;, [\n    &#x27;Projet Test&#x27;,\n]);\nconst boardId = board.rows[0].id;\nconst result = await pool.query(&#x27;UPDATE boards SET name = $1 WHERE id = $2&#x27;, [&#x27;Projet mis à jour&#x27;, boardId]);\nconst updatedBoard = await pool.query(&#x27;SELECT * FROM boards WHERE id = $1&#x27;, [boardId]);\nassert.equal(result.rowCount, 1);\nassert.equal(updatedBoard.rows[0].name, &#x27;Projet mis à jour&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;32cd73a5-b5e5-47e1-9a5a-58c90f3b6084&quot;,&quot;parentUUID&quot;:&quot;714e97bd-c1cf-4ed1-bf5c-e372d2a6e066&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;doit insérer une colonne&quot;,&quot;fullTitle&quot;:&quot;Tests de base de données doit insérer une colonne&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const board = await pool.query(&#x27;SELECT * FROM boards WHERE name = $1&#x27;, [\n    &#x27;Projet mis à jour&#x27;,\n]);\nconst boardId = board.rows[0].id;\nawait pool.query(&#x27;INSERT INTO columns (id, board_id, name) VALUES ($1, $2, $3)&#x27;, [&#x27;526e2c21-844e-4c11-ac5b-473303e88306&#x27;, boardId, &#x27;En cours&#x27;]);\nconst result = await pool.query(&#x27;SELECT * FROM columns WHERE board_id = $1 AND name = $2&#x27;, [boardId, &#x27;En cours&#x27;]);\nassert.equal(result.rowCount, 1);\nassert.equal(result.rows[0].name, &#x27;En cours&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;60eee1f6-0b3a-4807-a438-268fcb6275c3&quot;,&quot;parentUUID&quot;:&quot;714e97bd-c1cf-4ed1-bf5c-e372d2a6e066&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;ne doit pas insérer une colonne sans board_id valide&quot;,&quot;fullTitle&quot;:&quot;Tests de base de données ne doit pas insérer une colonne sans board_id valide&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;try {\n    const invalidUUID = uuidv4();\n    await pool.query(&#x27;INSERT INTO columns (id, board_id, name) VALUES ($1, $2, $3)&#x27;, [\n        &#x27;de87cd7c-dc89-4f21-8ac4-2e2d2ac49612&#x27;,\n        invalidUUID,\n        &#x27;En attente&#x27;,\n    ]);\n    assert.fail(\&quot;L&#x27;insertion devrait échouer avec un board_id invalide.\&quot;);\n}\ncatch (error) {\n    if (error instanceof Error) {\n        // On normalise le message d&#x27;erreur sinon la comparaison ne fonctionne pas\n        const cleanMessage = error.message\n            .toLowerCase()\n            .replace(/\\s+/g, &#x27; &#x27;)\n            .trim();\n        assert.ok(cleanMessage.includes(&#x27;viole la contrainte de clé étrangère&#x27;), `Erreur inattendue : ${cleanMessage}`);\n    }\n    else {\n        assert.fail(\&quot;Erreur inattendue, l&#x27;objet n&#x27;est pas de type Error.\&quot;);\n    }\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7e66c89a-e5d1-4b4d-b081-b34ddeedc6c0&quot;,&quot;parentUUID&quot;:&quot;714e97bd-c1cf-4ed1-bf5c-e372d2a6e066&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;doit modifier une colonne par son ID&quot;,&quot;fullTitle&quot;:&quot;Tests de base de données doit modifier une colonne par son ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const column = await pool.query(&#x27;SELECT * FROM columns WHERE name = $1&#x27;, [&#x27;En cours&#x27;]);\nconst columnId = column.rows[0].id;\nawait pool.query(&#x27;UPDATE columns SET name = $1 WHERE id = $2&#x27;, [\n    &#x27;En ce moment&#x27;,\n    columnId,\n]);\nconst result = await pool.query(&#x27;SELECT * FROM columns WHERE id = $1&#x27;, [\n    columnId,\n]);\nassert.equal(result.rowCount, 1);\nassert.equal(result.rows[0].name, &#x27;En ce moment&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;210701ec-4c20-4b0d-a8a5-9d22f71a1388&quot;,&quot;parentUUID&quot;:&quot;714e97bd-c1cf-4ed1-bf5c-e372d2a6e066&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;doit insérer une tâche&quot;,&quot;fullTitle&quot;:&quot;Tests de base de données doit insérer une tâche&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const column = await pool.query(&#x27;SELECT * FROM columns WHERE name = $1&#x27;, [&#x27;En ce moment&#x27;]);\nconst columnId = column.rows[0].id;\nawait pool.query(&#x27;INSERT INTO tasks (id, column_id, name, description) VALUES ($1, $2, $3, $4)&#x27;, [\n    &#x27;d149a698-ad09-4518-a671-336526e97918&#x27;,\n    columnId,\n    &#x27;tâche test&#x27;,\n    &#x27;Ceci est une tâche test.&#x27;,\n]);\nconst result = await pool.query(&#x27;SELECT * FROM tasks WHERE name = $1&#x27;, [\n    &#x27;tâche test&#x27;,\n]);\nassert.equal(result.rows[0].description, &#x27;Ceci est une tâche test.&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5224cfdb-24ed-435c-a673-0be8ceb3a776&quot;,&quot;parentUUID&quot;:&quot;714e97bd-c1cf-4ed1-bf5c-e372d2a6e066&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;doit modifier le nom d&#x27;une tâche par l&#x27;ID&quot;,&quot;fullTitle&quot;:&quot;Tests de base de données doit modifier le nom d&#x27;une tâche par l&#x27;ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const task = await pool.query(&#x27;SELECT * FROM tasks WHERE name = $1&#x27;, [\n    &#x27;tâche test&#x27;,\n]);\nconst taskId = task.rows[0].id;\nawait pool.query(&#x27;UPDATE tasks SET name = $1 WHERE id = $2&#x27;, [\n    &#x27;tâche mis à jour&#x27;,\n    taskId,\n]);\nconst result = await pool.query(&#x27;SELECT * FROM tasks WHERE id = $1&#x27;, [\n    taskId,\n]);\nassert.equal(result.rows[0].name, &#x27;tâche mis à jour&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3f4ab40a-52d5-49f5-b8b8-dce9615ce8bf&quot;,&quot;parentUUID&quot;:&quot;714e97bd-c1cf-4ed1-bf5c-e372d2a6e066&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;doit modifier la description d&#x27;une tâche par l&#x27;ID&quot;,&quot;fullTitle&quot;:&quot;Tests de base de données doit modifier la description d&#x27;une tâche par l&#x27;ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const task = await pool.query(&#x27;SELECT * FROM tasks WHERE name = $1&#x27;, [\n    &#x27;tâche mis à jour&#x27;,\n]);\nconst taskId = task.rows[0].id;\nawait pool.query(&#x27;UPDATE tasks SET description = $1 WHERE id = $2&#x27;, [\n    &#x27;La description est mis à jour.&#x27;,\n    taskId,\n]);\nconst result = await pool.query(&#x27;SELECT * FROM tasks WHERE id = $1&#x27;, [\n    taskId,\n]);\nassert.equal(result.rows[0].description, &#x27;La description est mis à jour.&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a785ee76-a9f9-49fb-a45c-e93a128035ce&quot;,&quot;parentUUID&quot;:&quot;714e97bd-c1cf-4ed1-bf5c-e372d2a6e066&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;doit supprimer une tâche par son ID&quot;,&quot;fullTitle&quot;:&quot;Tests de base de données doit supprimer une tâche par son ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const task = await pool.query(&#x27;SELECT * FROM tasks WHERE name = $1&#x27;, [\n    &#x27;tâche mis à jour&#x27;,\n]);\nconst taskId = task.rows[0].id;\nawait pool.query(&#x27;DELETE FROM columns WHERE id = $1&#x27;, [taskId]);\nconst result = await pool.query(&#x27;SELECT * FROM columns WHERE id = $1&#x27;, [\n    taskId,\n]);\nassert.equal(result.rowCount, 0);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1af280a3-9ab8-47a9-90c7-9e1f9b6d878e&quot;,&quot;parentUUID&quot;:&quot;714e97bd-c1cf-4ed1-bf5c-e372d2a6e066&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;doit supprimer une colonne par son ID&quot;,&quot;fullTitle&quot;:&quot;Tests de base de données doit supprimer une colonne par son ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const column = await pool.query(&#x27;SELECT * FROM columns WHERE name = $1&#x27;, [&#x27;En ce moment&#x27;]);\nconst columnId = column.rows[0].id;\nawait pool.query(&#x27;DELETE FROM columns WHERE id = $1&#x27;, [columnId]);\nconst result = await pool.query(&#x27;SELECT * FROM columns WHERE id = $1&#x27;, [\n    columnId,\n]);\nassert.equal(result.rowCount, 0);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b9f5f61e-a84b-4e57-88f1-b163dcaf002a&quot;,&quot;parentUUID&quot;:&quot;714e97bd-c1cf-4ed1-bf5c-e372d2a6e066&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;doit supprimer un board par son ID&quot;,&quot;fullTitle&quot;:&quot;Tests de base de données doit supprimer un board par son ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const board = await pool.query(&#x27;SELECT * FROM boards WHERE name = $1&#x27;, [\n    &#x27;Projet mis à jour&#x27;,\n]);\nconst boardId = board.rows[0].id;\nawait pool.query(&#x27;DELETE FROM boards WHERE id = $1&#x27;, [boardId]);\nconst result = await pool.query(&#x27;SELECT * FROM boards WHERE id = $1&#x27;, [\n    boardId,\n]);\nassert.equal(result.rowCount, 0);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2786e41f-204f-40e9-b97c-cd3fa4ba7c2a&quot;,&quot;parentUUID&quot;:&quot;714e97bd-c1cf-4ed1-bf5c-e372d2a6e066&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;doit supprimer un utilisateur&quot;,&quot;fullTitle&quot;:&quot;Tests de base de données doit supprimer un utilisateur&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const result = await pool.query(&#x27;DELETE FROM users WHERE name = $1 RETURNING *&#x27;, [&#x27;tester1&#x27;]);\n// Si la suppression a réussi, rowCount renverra le nombre de ligne supprimé\n// Ici, on supprime 1 utilisateur, soit 1 ligne\nassert.equal(result.rowCount, 1);\nassert.equal(result.rows[0].name, &#x27;tester1&#x27;);\nconst checkUser = await pool.query(&#x27;SELECT * FROM users WHERE name = $1&#x27;, [&#x27;tester&#x27;]);\n// Si aucune ligne n&#x27;est retourné, rowCount renverra 0\nassert.equal(checkUser.rowCount, 0);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;60048c00-edc7-4147-952f-45cc52132551&quot;,&quot;parentUUID&quot;:&quot;714e97bd-c1cf-4ed1-bf5c-e372d2a6e066&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;doit supprimer un second utilisateur&quot;,&quot;fullTitle&quot;:&quot;Tests de base de données doit supprimer un second utilisateur&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const result = await pool.query(&#x27;DELETE FROM users WHERE name = $1 RETURNING *&#x27;, [&#x27;tester2&#x27;]);\n// Si la suppression a réussi, rowCount renverra le nombre de ligne supprimé\n// Ici, on supprime 1 utilisateur, soit 1 ligne\nassert.equal(result.rowCount, 1);\nassert.equal(result.rows[0].name, &#x27;tester2&#x27;);\nconst checkUser = await pool.query(&#x27;SELECT * FROM users WHERE name = $1&#x27;, [&#x27;tester&#x27;]);\n// Si aucune ligne n&#x27;est retourné, rowCount renverra 0\nassert.equal(checkUser.rowCount, 0);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4ac57c2f-9cbf-4d19-88eb-4b8273fea8de&quot;,&quot;parentUUID&quot;:&quot;714e97bd-c1cf-4ed1-bf5c-e372d2a6e066&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;ne doit pas supprimer un utilisateur qui n&#x27;existe pas&quot;,&quot;fullTitle&quot;:&quot;Tests de base de données ne doit pas supprimer un utilisateur qui n&#x27;existe pas&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const result = await pool.query(&#x27;DELETE FROM users WHERE name = $1 RETURNING *&#x27;, [&#x27;inexistant&#x27;]);\nassert.equal(result.rowCount, 0);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0884783d-15ce-411a-9184-fb16d7213e92&quot;,&quot;parentUUID&quot;:&quot;714e97bd-c1cf-4ed1-bf5c-e372d2a6e066&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;ba4dea07-829c-4235-98ae-fe4a45cc9ec9&quot;,&quot;80530f5e-be5a-405d-8ac3-767ed2408fae&quot;,&quot;3a1460c0-5911-4407-8bb8-6fb38dd40605&quot;,&quot;4b2f1e69-9ce3-4c2c-ad46-1ce23c99296f&quot;,&quot;b1ef3c1b-4052-4156-8ae4-3b0b9155738b&quot;,&quot;772b6b60-a7ca-4aa7-b7a9-88e014a4c835&quot;,&quot;481f8109-ba19-446d-8338-871f5f60d402&quot;,&quot;cc33f09a-2428-489a-bf41-2d08cf208857&quot;,&quot;3c143ca4-2d4b-41bd-8d85-fb47182f7ed7&quot;,&quot;f0d0b866-59df-421a-be60-95ae39cf97cd&quot;,&quot;5dd5d530-4074-408a-87e1-fa9f0e73aea7&quot;,&quot;33c3cd33-455e-454e-8fb4-b4f6bcc1592e&quot;,&quot;32cd73a5-b5e5-47e1-9a5a-58c90f3b6084&quot;,&quot;60eee1f6-0b3a-4807-a438-268fcb6275c3&quot;,&quot;7e66c89a-e5d1-4b4d-b081-b34ddeedc6c0&quot;,&quot;210701ec-4c20-4b0d-a8a5-9d22f71a1388&quot;,&quot;5224cfdb-24ed-435c-a673-0be8ceb3a776&quot;,&quot;3f4ab40a-52d5-49f5-b8b8-dce9615ce8bf&quot;,&quot;a785ee76-a9f9-49fb-a45c-e93a128035ce&quot;,&quot;1af280a3-9ab8-47a9-90c7-9e1f9b6d878e&quot;,&quot;b9f5f61e-a84b-4e57-88f1-b163dcaf002a&quot;,&quot;2786e41f-204f-40e9-b97c-cd3fa4ba7c2a&quot;,&quot;60048c00-edc7-4147-952f-45cc52132551&quot;,&quot;4ac57c2f-9cbf-4d19-88eb-4b8273fea8de&quot;,&quot;0884783d-15ce-411a-9184-fb16d7213e92&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:52,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;41a30f30-171e-4e50-878d-396e328f80fd&quot;,&quot;title&quot;:&quot;UserService&quot;,&quot;fullFile&quot;:&quot;/home/johan/Repository/ikanban/backend/test/2-userService.test.ts&quot;,&quot;file&quot;:&quot;/test/2-userService.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;UserService\&quot;&quot;,&quot;fullTitle&quot;:&quot;UserService \&quot;before each\&quot; hook in \&quot;UserService\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;userService = new UserServiceTestable();\n// Création d&#x27;une fausse instance de UserDb\nuserDbStub = sinon.createStubInstance(UserDb);\nuserService[&#x27;userDb&#x27;] = userDbStub;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5b8b3cc3-c566-4626-9343-a19756c4c8df&quot;,&quot;parentUUID&quot;:&quot;41a30f30-171e-4e50-878d-396e328f80fd&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook in \&quot;UserService\&quot;&quot;,&quot;fullTitle&quot;:&quot;UserService \&quot;after each\&quot; hook in \&quot;UserService\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4a1cb28f-7ee7-4bc6-965e-0e6b327056b9&quot;,&quot;parentUUID&quot;:&quot;41a30f30-171e-4e50-878d-396e328f80fd&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;doit créer un utilisateur avec succès et le retourner sans le mot de passe haché&quot;,&quot;fullTitle&quot;:&quot;UserService doit créer un utilisateur avec succès et le retourner sans le mot de passe haché&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:108,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// 1. Déclaration des données nécéssaires pour créer un nouvel utilisateur\nconst newUser = {\n    name: &#x27;John Doe&#x27;,\n    email: &#x27;john@example.com&#x27;,\n    password: &#x27;Password123!&#x27;,\n    passconf: &#x27;Password123!&#x27;,\n};\n// 2. Déclaration des données nécéssaires pour insérer le nouvel utilisateur dans la DB\nconst fakeUser = {\n    id: &#x27;1&#x27;,\n    name: newUser.email,\n    email: newUser.email,\n    password_hash: &#x27;hashed_password_123&#x27;,\n};\nuserDbStub.findByMail.resolves(null); // Simule email est unique\nuserDbStub.create.resolves(fakeUser); // Simule l&#x27;appel à la db\nconst result = await userService.createUser(newUser);\n// Je vérifie que les méthodes simulées ont bien été appelées\nexpect(userDbStub.create.calledOnce).to.be.true;\nexpect(userDbStub.findByMail.calledWith(newUser.email)).to.be.true;\nexpect(result).to.deep.equal({\n    id: fakeUser.id,\n    name: fakeUser.name,\n    email: fakeUser.email,\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3170d44e-b9aa-429d-8796-81fcd06740cd&quot;,&quot;parentUUID&quot;:&quot;41a30f30-171e-4e50-878d-396e328f80fd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;doit supprimer un utilisateur avec succès&quot;,&quot;fullTitle&quot;:&quot;UserService doit supprimer un utilisateur avec succès&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const fakeUserId = &#x27;1&#x27;;\n// La méthode retourne true\nuserDbStub.delete.resolves(true);\nconst result = await userService.deleteUser(fakeUserId);\nexpect(result).to.be.true;\nexpect(userDbStub.delete.calledOnceWith(fakeUserId)).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ee347559-6044-4be3-8c5c-f51ab6e6da75&quot;,&quot;parentUUID&quot;:&quot;41a30f30-171e-4e50-878d-396e328f80fd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;52254573-8e39-4e2a-ae8f-02a5526f32ec&quot;,&quot;title&quot;:&quot;validatePasswordMatch&quot;,&quot;fullFile&quot;:&quot;/home/johan/Repository/ikanban/backend/test/2-userService.test.ts&quot;,&quot;file&quot;:&quot;/test/2-userService.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;ne doit pas lancer d&#x27;erreur si les mots de passe correspondent&quot;,&quot;fullTitle&quot;:&quot;UserService validatePasswordMatch ne doit pas lancer d&#x27;erreur si les mots de passe correspondent&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;expect(() =&gt; userService.testValidatePasswordsMatch(&#x27;Azerty1!&#x27;, &#x27;Azerty1!&#x27;)).to.not.throw();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;219acb04-90fd-45ef-a9fa-6ee7a78a3ec2&quot;,&quot;parentUUID&quot;:&quot;52254573-8e39-4e2a-ae8f-02a5526f32ec&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;doit renvoyer une erreur si les mots de passe ne correspondent pas&quot;,&quot;fullTitle&quot;:&quot;UserService validatePasswordMatch doit renvoyer une erreur si les mots de passe ne correspondent pas&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;expect(() =&gt; userService.testValidatePasswordsMatch(&#x27;Azerty1!&#x27;, &#x27;ytreza&#x27;)).to.throw(&#x27;Le mot de passe et sa confirmation ne correspondent pas&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c3580f40-b220-407b-b5f3-1150518c9efa&quot;,&quot;parentUUID&quot;:&quot;52254573-8e39-4e2a-ae8f-02a5526f32ec&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;219acb04-90fd-45ef-a9fa-6ee7a78a3ec2&quot;,&quot;c3580f40-b220-407b-b5f3-1150518c9efa&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;a46bb112-99aa-4f47-880a-7bd3815ff9f0&quot;,&quot;title&quot;:&quot;hashPassword&quot;,&quot;fullFile&quot;:&quot;/home/johan/Repository/ikanban/backend/test/2-userService.test.ts&quot;,&quot;file&quot;:&quot;/test/2-userService.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;doit retourner une chaîne non vide différente du mot de passe&quot;,&quot;fullTitle&quot;:&quot;UserService hashPassword doit retourner une chaîne non vide différente du mot de passe&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:96,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const plainPassword = &#x27;Azerty1!&#x27;;\nconst saltRounds = 10;\nconst hashed = userService.testHashPassword(saltRounds, plainPassword);\nexpect(hashed).to.be.a(&#x27;string&#x27;).and.not.empty;\nexpect(hashed).to.not.equal(plainPassword);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;decfa055-57fe-4705-8cb2-d76f327553b6&quot;,&quot;parentUUID&quot;:&quot;a46bb112-99aa-4f47-880a-7bd3815ff9f0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;doit produire des hashes différents pour le même mot de passe&quot;,&quot;fullTitle&quot;:&quot;UserService hashPassword doit produire des hashes différents pour le même mot de passe&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:190,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const plainPassword = &#x27;Azerty1!&#x27;;\nconst saltRounds = 10;\nconst hash1 = userService.testHashPassword(saltRounds, plainPassword);\nconst hash2 = userService.testHashPassword(saltRounds, plainPassword);\nexpect(hash1).to.not.equal(hash2);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c7caca80-0b3e-480e-82f2-bd14e3691847&quot;,&quot;parentUUID&quot;:&quot;a46bb112-99aa-4f47-880a-7bd3815ff9f0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;decfa055-57fe-4705-8cb2-d76f327553b6&quot;,&quot;c7caca80-0b3e-480e-82f2-bd14e3691847&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:286,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;59222cf1-68c1-4dde-9330-1f007b06af27&quot;,&quot;title&quot;:&quot;verifyCredentials&quot;,&quot;fullFile&quot;:&quot;/home/johan/Repository/ikanban/backend/test/2-userService.test.ts&quot;,&quot;file&quot;:&quot;/test/2-userService.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;verifyCredentials\&quot;&quot;,&quot;fullTitle&quot;:&quot;UserService verifyCredentials \&quot;before each\&quot; hook in \&quot;verifyCredentials\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;userDbStub = sinon.createStubInstance(UserDb);\nuserService = new UserService();\n// @ts-ignore accès direct pour injection manuelle du stub\nuserService[&#x27;userDb&#x27;] = userDbStub;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;802ca207-ad3b-47b4-83b4-5eef82147a09&quot;,&quot;parentUUID&quot;:&quot;59222cf1-68c1-4dde-9330-1f007b06af27&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;doit rejeter si l&#x27;email est vide&quot;,&quot;fullTitle&quot;:&quot;UserService verifyCredentials doit rejeter si l&#x27;email est vide&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await expect(userService.verifyCredentials(&#x27;&#x27;, &#x27;Azerty1!&#x27;)).to.be.rejectedWith(&#x27;Email ou mot de passe requis&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d15035f4-505c-4fb0-814f-8eabf7ff91a9&quot;,&quot;parentUUID&quot;:&quot;59222cf1-68c1-4dde-9330-1f007b06af27&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;doit rejeter si l&#x27;utilisateur n&#x27;existe pas&quot;,&quot;fullTitle&quot;:&quot;UserService verifyCredentials doit rejeter si l&#x27;utilisateur n&#x27;existe pas&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;userDbStub.findByMail.resolves(null);\nawait expect(userService.verifyCredentials(&#x27;john@example.com&#x27;, &#x27;pass123&#x27;)).to.be.rejectedWith(&#x27;Les identifiants sont invalides&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f1b2f161-d9d8-432d-8879-69001d1c6942&quot;,&quot;parentUUID&quot;:&quot;59222cf1-68c1-4dde-9330-1f007b06af27&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;doit rejeter si le mot de passe est incorrect&quot;,&quot;fullTitle&quot;:&quot;UserService verifyCredentials doit rejeter si le mot de passe est incorrect&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:96,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;userDbStub.findByMail.resolves({\n    id: &#x27;1&#x27;,\n    name: &#x27;John&#x27;,\n    email: &#x27;john@example.com&#x27;,\n    password_hash: &#x27;$2b$10$123456789012345678901uIrZTpkUCxNi9/5kxz38yaeI9lQ6JLzi&#x27;, // faux hash\n});\nawait expect(userService.verifyCredentials(&#x27;john@example.com&#x27;, &#x27;wrongpass&#x27;)).to.be.rejectedWith(&#x27;Les identifiants sont invalides&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a348e2ae-4a02-43fe-9880-c68eb306b7ff&quot;,&quot;parentUUID&quot;:&quot;59222cf1-68c1-4dde-9330-1f007b06af27&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;doit retourner l&#x27;utilisateur si l&#x27;authentification est réussi&quot;,&quot;fullTitle&quot;:&quot;UserService verifyCredentials doit retourner l&#x27;utilisateur si l&#x27;authentification est réussi&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;095e307f-3b73-4b26-b2dd-82d6143dd2da&quot;,&quot;parentUUID&quot;:&quot;59222cf1-68c1-4dde-9330-1f007b06af27&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d15035f4-505c-4fb0-814f-8eabf7ff91a9&quot;,&quot;f1b2f161-d9d8-432d-8879-69001d1c6942&quot;,&quot;a348e2ae-4a02-43fe-9880-c68eb306b7ff&quot;,&quot;095e307f-3b73-4b26-b2dd-82d6143dd2da&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:100,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[&quot;3170d44e-b9aa-429d-8796-81fcd06740cd&quot;,&quot;ee347559-6044-4be3-8c5c-f51ab6e6da75&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:108,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;81cb115d-39b3-4390-9c9d-325b39067575&quot;,&quot;title&quot;:&quot;UserController&quot;,&quot;fullFile&quot;:&quot;/home/johan/Repository/ikanban/backend/test/3-userController.test.ts&quot;,&quot;file&quot;:&quot;/test/3-userController.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;UserController\&quot;&quot;,&quot;fullTitle&quot;:&quot;UserController \&quot;before each\&quot; hook in \&quot;UserController\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Créer une instance du contrôleur\nuserServiceStub = sinon.createStubInstance(UserService);\nuserController = new UserController();\nuserController[&#x27;userService&#x27;] = userServiceStub;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4fbb685d-030c-447b-9add-4fd2ed3e8d18&quot;,&quot;parentUUID&quot;:&quot;81cb115d-39b3-4390-9c9d-325b39067575&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;e3d42fb3-9de4-48be-a39b-8608a4108394&quot;,&quot;title&quot;:&quot;registerUser&quot;,&quot;fullFile&quot;:&quot;/home/johan/Repository/ikanban/backend/test/3-userController.test.ts&quot;,&quot;file&quot;:&quot;/test/3-userController.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;doit créer un utilisateur avec succès&quot;,&quot;fullTitle&quot;:&quot;UserController registerUser doit créer un utilisateur avec succès&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const req = {\n    body: {\n        name: &#x27;John Doe&#x27;,\n        email: &#x27;john@example.com&#x27;,\n        password: &#x27;password123!&#x27;,\n        passconf: &#x27;password123!&#x27;,\n    },\n};\nconst res = {\n    status: sinon.stub().returnsThis(), // Permet de chaîner les appels\n    json: sinon.stub(),\n    sendStatus: sinon.stub(),\n};\n// Simuler une réponse réussie de createUser sur le stub\nuserServiceStub.createUser.resolves({\n    id: &#x27;1&#x27;,\n    name: &#x27;John Doe&#x27;,\n    email: &#x27;john@example.com&#x27;,\n});\n// Appeler la méthode du contrôleur\nawait userController.registerUser(req, res);\n// Vérifier que status a été appelé avec 201 et json avec les bonnes données\nexpect(res.status.calledWith(201)).to.be.true;\nexpect(res.json.calledWith({\n    success: true,\n    message: &#x27;Votre compte a été créé&#x27;,\n    data: {\n        id: &#x27;1&#x27;,\n        name: &#x27;John Doe&#x27;,\n        email: &#x27;john@example.com&#x27;,\n    },\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;51365131-fbfb-4ed5-a0b1-8c5a9580c796&quot;,&quot;parentUUID&quot;:&quot;e3d42fb3-9de4-48be-a39b-8608a4108394&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;doit renvoyer une erreur si l&#x27;utilisateur existe déjà&quot;,&quot;fullTitle&quot;:&quot;UserController registerUser doit renvoyer une erreur si l&#x27;utilisateur existe déjà&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Configurer le stub pour générer l&#x27;erreur\nconst tableExistsError = new Error(&#x27;Impossible de créer le compte&#x27;);\nuserServiceStub.createUser.rejects(tableExistsError);\n// Préparer la requête\nconst req = {\n    body: {\n        name: &#x27;John Doe&#x27;,\n        email: &#x27;john@example.com&#x27;,\n        password: &#x27;password123!&#x27;,\n        passconf: &#x27;password123!&#x27;,\n    },\n};\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub(),\n    sendStatus: sinon.stub(),\n};\nawait userController.registerUser(req, res);\nexpect(res.status.calledWith(409)).to.be.true;\nexpect(res.json.calledWith({\n    success: false,\n    error: &#x27;Impossible de créer le compte&#x27;,\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;74c8e90e-4a57-42dd-880c-6d7dbfdbacfb&quot;,&quot;parentUUID&quot;:&quot;e3d42fb3-9de4-48be-a39b-8608a4108394&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;doit renvoyer une erreur 500 en cas d&#x27;erreur du serveur&quot;,&quot;fullTitle&quot;:&quot;UserController registerUser doit renvoyer une erreur 500 en cas d&#x27;erreur du serveur&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const req = {\n    body: {\n        name: &#x27;John Doe&#x27;,\n        email: &#x27;john@example.com&#x27;,\n        password: &#x27;password123!&#x27;,\n        passconf: &#x27;password123!&#x27;,\n    },\n};\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub(),\n    sendStatus: sinon.stub(),\n};\nuserServiceStub.createUser.rejects(new Error(&#x27;Erreur serveur inconnue.&#x27;));\nawait userController.registerUser(req, res);\nexpect(res.status.calledWith(500)).to.be.true;\nexpect(res.json.calledWith({\n    success: false,\n    error: &#x27;Erreur serveur inconnue&#x27;,\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b610c296-7b45-445f-a5fb-a6340a365b58&quot;,&quot;parentUUID&quot;:&quot;e3d42fb3-9de4-48be-a39b-8608a4108394&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;51365131-fbfb-4ed5-a0b1-8c5a9580c796&quot;,&quot;74c8e90e-4a57-42dd-880c-6d7dbfdbacfb&quot;,&quot;b610c296-7b45-445f-a5fb-a6340a365b58&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:5,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;77f4506f-9512-4986-8c0d-8104dc6c86f9&quot;,&quot;title&quot;:&quot;fetchUserById&quot;,&quot;fullFile&quot;:&quot;/home/johan/Repository/ikanban/backend/test/3-userController.test.ts&quot;,&quot;file&quot;:&quot;/test/3-userController.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;doit récupérer l&#x27;utilisateur par son ID&quot;,&quot;fullTitle&quot;:&quot;UserController fetchUserById doit récupérer l&#x27;utilisateur par son ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const req = {\n    params: {\n        userId: &#x27;1&#x27;,\n    },\n};\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub(),\n    sendStatus: sinon.stub(),\n};\nuserServiceStub.getUserById.resolves({\n    id: &#x27;1&#x27;,\n    name: &#x27;John Doe&#x27;,\n    email: &#x27;john@example.com&#x27;,\n});\nawait userController.fetchUserById(req, res);\nexpect(res.status.calledWith(200)).to.be.true;\nexpect(res.json.calledWith({\n    id: &#x27;1&#x27;,\n    name: &#x27;John Doe&#x27;,\n    email: &#x27;john@example.com&#x27;,\n})).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fc5e90da-d916-4410-ba22-cfaf211e627b&quot;,&quot;parentUUID&quot;:&quot;77f4506f-9512-4986-8c0d-8104dc6c86f9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;doit retourner 404 si l&#x27;utilisateur n&#x27;est pas trouvé&quot;,&quot;fullTitle&quot;:&quot;UserController fetchUserById doit retourner 404 si l&#x27;utilisateur n&#x27;est pas trouvé&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const req = {\n    params: {\n        userId: &#x27;non-existent-id&#x27;,\n    },\n};\nconst res = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub(),\n    sendStatus: sinon.stub(),\n};\nuserServiceStub.getUserById.resolves(undefined);\nawait userController.fetchUserById(req, res);\nexpect(res.sendStatus.calledWith(404)).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f1dd5c3a-98c2-4b1d-977d-c15f5235fb1b&quot;,&quot;parentUUID&quot;:&quot;77f4506f-9512-4986-8c0d-8104dc6c86f9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;fc5e90da-d916-4410-ba22-cfaf211e627b&quot;,&quot;f1dd5c3a-98c2-4b1d-977d-c15f5235fb1b&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;cfd80bba-c117-4945-9658-fdb7ba24de26&quot;,&quot;title&quot;:&quot;Nettoyage des tests&quot;,&quot;fullFile&quot;:&quot;/home/johan/Repository/ikanban/backend/test/4-clean.test.ts&quot;,&quot;file&quot;:&quot;/test/4-clean.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;doit nettoyer toutes les données de tests&quot;,&quot;fullTitle&quot;:&quot;Nettoyage des tests doit nettoyer toutes les données de tests&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:22,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;console.log(&#x27;Fermeture de toute les connexions.&#x27;);\nawait pool.end();\nawait dropTestDB(config.db.database);\nconsole.log(\&quot;Nettoyage terminée.\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8606f060-417b-4d21-b695-58cf30400c44&quot;,&quot;parentUUID&quot;:&quot;cfd80bba-c117-4945-9658-fdb7ba24de26&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;8606f060-417b-4d21-b695-58cf30400c44&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:22,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:6000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:2000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;11.5.0&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;7.1.3&quot;},&quot;marge&quot;:{&quot;version&quot;:&quot;6.2.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;reportDir&quot;:&quot;mochawesome-report&quot;,&quot;reportTitle&quot;:&quot;backend&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;mochawesome-report/assets&quot;,&quot;jsonFile&quot;:&quot;/home/johan/Repository/ikanban/backend/mochawesome-report/mochawesome.json&quot;,&quot;htmlFile&quot;:&quot;/home/johan/Repository/ikanban/backend/mochawesome-report/mochawesome.html&quot;}"><div id="report"></div><script src="assets/app.js"></script></body></html>